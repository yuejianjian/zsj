starter.controller("forgetPwdCtrl",["$scope","$state","LoginService","popupUtil","$stateParams","$timeout","util",function(a,t,e,o,n,c,i){angular.extend(a,n);var r=i.countDown({timer:60});a.codeText="发送验证码",a.getCaptcha=function(){console.log(1111),r.run(function(t){a.codeText="重新发送("+t+")",flag=!0},function(){flag=!1,a.codeText="发送验证码"})},a.mobileRegx="^1(3[0-9]|4[57]|5[0-35-9]|7[01678]|8[0-9])\\d{8}$",a.emailRegx="^[a-z]([a-z0-9]*[-_]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[.][a-z]{2,3}([.][a-z]{2})?$",a.pwdRegx="[a-zA-Z0-9]*",a.data={},a.change=!1,a.pwd=!1,a.save=function(t){t.$valid&&a.login()},a.login=function(){a.data.confirmPassword==a.data.newPassword?(delete a.data.confirmPassword,e.changepassword(a.data).$promise.then(function(a){a.success?(o.showAlert("提示","密码修改成功"),t.go("login")):o.showAlert("提示","密码修改失败")},function(a){})):o.showAlert("提示","两次密码输入不正确")}}]);