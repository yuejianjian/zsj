starter.controller("loginCtrl",["$scope","base64","$http","$rootScope","$state","httpSvc","popupSvc","$stateParams",function(o,e,t,n,a,r,s,l){angular.extend(o,l),o.mobileRegx="^1(3[0-9]|4[57]|5[0-35-9]|7[01678]|8[0-9])\\d{8}$",o.pwdRegx="[a-zA-Z0-9]*",o.data={},o.save=function(e){o.valid=!0,e.$valid&&o.login()},o.login=function(){r.post("/user/login/index",{mobile:o.data.mobile,password:e.encode(o.data.pwd)}).then(function(e){console.log(e),0==e.code?(o.error=!0,o.errorMsg=e.msg):1==e.code&&(n.token=e.response.token,a.go("tab.my"))})}}]);