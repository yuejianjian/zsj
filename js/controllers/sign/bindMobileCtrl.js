starter.controller("bindMobileCtrl",["$scope","$state","LoginService","popupUtil","$stateParams","$timeout","util",function(a,e,o,t,n,i,c){angular.extend(a,n);var s=c.countDown({timer:60});a.codeText="发送验证码",a.getCaptcha=function(){console.log(1111),s.run(function(e){a.codeText="重新发送("+e+")",flag=!0},function(){flag=!1,a.codeText="发送验证码"})},a.mobileRegx="^1(3[0-9]|4[57]|5[0-35-9]|7[01678]|8[0-9])\\d{8}$",a.emailRegx="^[a-z]([a-z0-9]*[-_]?[a-z0-9]+)*@([a-z0-9]*[-_]?[a-z0-9]+)+[.][a-z]{2,3}([.][a-z]{2})?$",a.pwdRegx="[a-zA-Z0-9]*",a.data={},a.change=!1,a.pwd=!1,a.save=function(e){e.$valid&&a.login()},a.login=function(){a.data.confirmPassword==a.data.newPassword?(delete a.data.confirmPassword,o.changepassword(a.data).$promise.then(function(a){a.success?(t.showAlert("提示","密码修改成功"),e.go("login")):t.showAlert("提示","密码修改失败")},function(a){})):t.showAlert("提示","两次密码输入不正确")}}]);